## EvadeDroid: A Practical Evasion Attack on Machine Learning for Black-box Android Malware Detection (Seminar 8.1)

**NOTE**: This blog is for a special topics course at Texas A&M (ML for Cyber Defenses). During each lecture a student presents information from the assigned paper. This blog summarizes and further discusses each topic.

During this seminar, Colton Simpson presented [EvadeDroid: A Practical Evasion Attack on Machine Learning for Black-box Android Malware Detection]([https://ieeexplore.ieee.org/document/9685442](https://arxiv.org/pdf/2110.03301.pdf)). After their presentation our class had an open discussion related to the paper and more. This blog post will cover a summary of the information presented as well as a summary of our class discussion.

### Presentation Summary

---
#### Introduction
- ML-based defenses are vulnerable to evasion attacks, where attackers transform malware into adversarial examples
- However, the use of adversarial examples still pose some challenges
  - Manipulating feature representations of malicious Android applications may break its functionality as APK features are typically discrete instead of continuous
    - A possible solution is to extract features from the Android Manifest file, but has a questionable practicality as executability of the original apps is not guaranteed, preprocessing techniques can discard features added to the Manifest file, and advanced Android malware detectors rely on the semantics of Android apps rather than Manifest files
    

### Discussion Summary

---
- Mention main idea of using opaque predicates, dead code, etc.
- The reason that droppers aren't used is that Android doesn't support them and that once a dropper is used, the program file is immediately reordered, and thus the dropper is not needed
  - The implementation is the same without being the same, Android uses different abstraction layers than x86, for example
  - Compiled languages have assembly instructions (C for example), but Android is built on Java which is easier to handle as there is more high level information
  - Compiled vs interpreted languages have different security implications
- The attack used in this paper is 'semi black box' as the authors know that the target model is based on code along with other information
- In theory, EvadeDroid can be used for Windows PE files
  - Implementation will be different, but the concepts will be similar such as using opaque predicates, dead code, etc.
  - The first android attacks were based on manifest files which list permissions and more
  - Attacks against manifest files (where there are boolean vectors of manifest permissions) are also possible through
- Gadgets are essential in security as they fall under return oriented programming attacks which can be used to control the stack pointers as a result of buffer overflow, leading to control of the program
- Markov decision processes (which are a chain of state action pairs while accounting for the probability of choosing the best next state, using previous state information) can also be applied to malware detection
  - Function calls, for instance, can be represented as a markov decision process by determining the probability of a function being chosen or called next.
