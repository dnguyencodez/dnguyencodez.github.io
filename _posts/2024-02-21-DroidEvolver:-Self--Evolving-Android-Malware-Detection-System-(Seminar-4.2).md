## DroidEvolver: Self-Evolving Android Malware Detection System (Seminar 4.2)
**NOTE**: This blog is for a special topics course at Texas A&M (ML for Cyber Defenses). During each lecture a student presents information from the assigned paper. This blog summarizes and further discusses each topic.

During this seminar, Vasudeva Vallabhajosyula presented [DroidEvolver: Self-Evolving Android Malware Detection System](https://ieeexplore.ieee.org/document/8806731). After their presentation our class had an open discussion related to the paper and more. This blog post will cover a summary of the information presented as well as a summary of our class discussion.

### Presentation Summary

---
#### Introduction
- It is difficult to build Android malware detection systems that are effective at detecting new malware while being trained with old Android applications
- Existing systems face the challenges of determining when to retrain a detection system, the cost of manually labeling new malware, and retraining with cumulative datasets
- DroidEvolver, a system to to make malware detection accurate over time by making necessary update to its detection models with evolving feature set, is proposed
  - Maintains a model pool of different detection models that are initialized with a set of labeled applications using various online learning algorithms
  - Intuition is that different models are less likely to be aging at the same pace in malware detection even with the same, intial dataset
  - Performs weighted votes among "young" detection models to classify each application based on its Android API calls
  - "Young" is determined through the Juvenilization Indicator (JI) that computes the similarity between the detected app and a batch of apps detected by the model to the same prediction label
  - DroidEvolver dynamically updates its feature set and aging detection models using JI to identify drifting applications, ensuring effective adaptation to new API calls or usage patterns without manual intervention
  - Updates its model pool for malware detection without needing true labels for applications, utilizing pseudo labels for identified drifting applications to update aging models, thus minimizing manual labeling and associated costs
  - When no drift is detected, all models in the pool contribute to the classification without any updates, ensuring efficient and cost-effective malware detection evolution
  - DroidEvolver leverages online learning algorithms for its detection models, enabling incremental learning over streaming data without the need for periodic retraining, making it highly efficient for continuous malware detection
  - It updates only aging models when a drifting application is detected, using pseudo labels instead of true labels, enhancing practicality and efficiency by promptly juvenilizing models as necessary without extensive manual intervention
  - DroidEvolver is evaluated rigorously using 34,722 malicious apps and 33,294 benign apps
  - It has an F-measure that is 2.11 times higher than MAMADROID and declines by 1.06% per year whereas MAMADROID declines at 13.52% per year
- This paper covers the efficacy and efficiency of DroidEvolver and compares it with the state-of-the-art detection system: MAMADROID

#### Design of DroidEvolver
- There are two phases: initialization and detection
- During the initialization phase, DroidEvolver processes a set of known applications with true labels to generate a set of features and detection models, which are then utilized in the detection phase
- In the detection phase, DroidEvolver evaluates applications with unknown labels, applying the previously generated models to output prediction labels for these applications
- Initialization phase:
  - The initialization phase of DroidEvolver involves decompiling application APK files to disassembled dex bytecode using apktool, allowing the preprocessor module to identify API calls within each application
  - A feature extraction module then identifies and records the binary presence of Android APIs across all applications, constructing an initial ordered feature set and corresponding feature space through a 1-to-1 mapping of features to dimensions
  - The vector generation module produces a feature vector for each application relative to the detection models, mapping detected features to the feature space, with present features assigned to one and absent features to zero
  - The model pool construction module creates an initial set of detection models from the generated feature vectors of input applications, using various online learning algorithms based on their true labels and feature vectors
  - After the initialization phase, there is a transition to the detection phase with an established feature set and model pool, where each model is marked with a feature set indicator reflecting the number of processable features, potentially adjusting for expansion during detection
- Detection phase:
  - DroidEvolver dynamically updates its feature set and adapts its detection models to classify each unknown application as malicious or benign, incorporating new features discovered during the detection phase
  - The detection phase mirrors the initialization phase's first three modules, with modifications including dynamic feature set updates, construction of model-specific feature spaces based on feature set indicators, and generation of tailored feature vectors for each model
  - Feature extraction module identifies Android APIs across consistent API families (android, java, javax), ensuring comprehensive detection of new API calls within these families despite the significant increase in API packages from Android version 1.0 to 8.1
  - The classification and evolvement module classifies each unknown application as malicious or benign and identifies aging models, updating the feature set with new Android API calls from the application without altering existing feature ordinals
  - For aging models, DroidEvolver adjusts the feature set indicator to match the updated feature set's size and updates these models based on the application's classification result and its updated feature vector
- Specifics of model pool construction:
  - Model pool is used, each initialized with online learning algorithms during the initialization phase, to overcome the limitations and biases of single-model detection, ensuring more accurate and reliable malware detection results
  - Each detection model is each built on a distinct online learning algorithm, they process applications individually, offering a complexity linear to the input size, contrasting with batch learning's simultaneous processing requirement
  - DroidEvolver processes a sequence of N applications, each represented by a d-dimensional feature vector and a binary label (malicious or benign), using online learning algorithms where each application influences a d-dimensional weight vector in the model, reflecting the importance of features for classification
  - 
